Description: Enable to add +num and +/pattern option and improve large file
 processing performance over typically +40% to +300%.
Author: GOTO Masanori <gotom@debian.org>
Last-Update: 2005-05-06

--- lv/src/configure.gotom	2004-01-05 15:37:17.000000000 +0900
+++ lv/src/configure	2005-05-06 15:36:02.000000000 +0900
@@ -13,6 +13,8 @@
 # Any additions from configure.in:
 ac_help="$ac_help
  --enable-purify          enables checks by purify"
+ac_help="$ac_help
+ --enable-fastio          tries to reduce stdio overhead"
 
 # Initialize some variables set by options.
 # The variables have the same names as the options, with
@@ -525,7 +527,7 @@
 
 
 echo $ac_n "checking whether ln -s works""... $ac_c" 1>&6
-echo "configure:529: checking whether ln -s works" >&5
+echo "configure:531: checking whether ln -s works" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_LN_S'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -548,7 +550,7 @@
 # Extract the first word of "gcc", so it can be a program name with args.
 set dummy gcc; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:552: checking for $ac_word" >&5
+echo "configure:554: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -578,7 +580,7 @@
   # Extract the first word of "cc", so it can be a program name with args.
 set dummy cc; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:582: checking for $ac_word" >&5
+echo "configure:584: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -629,7 +631,7 @@
       # Extract the first word of "cl", so it can be a program name with args.
 set dummy cl; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:633: checking for $ac_word" >&5
+echo "configure:635: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -661,7 +663,7 @@
 fi
 
 echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
-echo "configure:665: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
+echo "configure:667: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
 
 ac_ext=c
 # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
@@ -672,12 +674,12 @@
 
 cat > conftest.$ac_ext << EOF
 
-#line 676 "configure"
+#line 678 "configure"
 #include "confdefs.h"
 
 main(){return(0);}
 EOF
-if { (eval echo configure:681: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:683: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   ac_cv_prog_cc_works=yes
   # If we can't run a trivial program, we are probably using a cross compiler.
   if (./conftest; exit) 2>/dev/null; then
@@ -703,12 +705,12 @@
   { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
 fi
 echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
-echo "configure:707: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
+echo "configure:709: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
 echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
 cross_compiling=$ac_cv_prog_cc_cross
 
 echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
-echo "configure:712: checking whether we are using GNU C" >&5
+echo "configure:714: checking whether we are using GNU C" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -717,7 +719,7 @@
   yes;
 #endif
 EOF
-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:721: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:723: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
   ac_cv_prog_gcc=yes
 else
   ac_cv_prog_gcc=no
@@ -736,7 +738,7 @@
 ac_save_CFLAGS="$CFLAGS"
 CFLAGS=
 echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
-echo "configure:740: checking whether ${CC-cc} accepts -g" >&5
+echo "configure:742: checking whether ${CC-cc} accepts -g" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -798,7 +800,7 @@
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # ./install, which can be erroneously created by make from ./install.sh.
 echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
-echo "configure:802: checking for a BSD compatible install" >&5
+echo "configure:804: checking for a BSD compatible install" >&5
 if test -z "$INSTALL"; then
 if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -851,7 +853,7 @@
 test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
 
 echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
-echo "configure:855: checking how to run the C preprocessor" >&5
+echo "configure:857: checking how to run the C preprocessor" >&5
 # On Suns, sometimes $CPP names a directory.
 if test -n "$CPP" && test -d "$CPP"; then
   CPP=
@@ -866,13 +868,13 @@
   # On the NeXT, cc -E runs the code through the compiler's parser,
   # not just through cpp.
   cat > conftest.$ac_ext <<EOF
-#line 870 "configure"
+#line 872 "configure"
 #include "confdefs.h"
 #include <assert.h>
 Syntax Error
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:876: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+{ (eval echo configure:878: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   :
@@ -883,13 +885,13 @@
   rm -rf conftest*
   CPP="${CC-cc} -E -traditional-cpp"
   cat > conftest.$ac_ext <<EOF
-#line 887 "configure"
+#line 889 "configure"
 #include "confdefs.h"
 #include <assert.h>
 Syntax Error
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:893: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+{ (eval echo configure:895: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   :
@@ -900,13 +902,13 @@
   rm -rf conftest*
   CPP="${CC-cc} -nologo -E"
   cat > conftest.$ac_ext <<EOF
-#line 904 "configure"
+#line 906 "configure"
 #include "confdefs.h"
 #include <assert.h>
 Syntax Error
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:910: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+{ (eval echo configure:912: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   :
@@ -931,7 +933,7 @@
 echo "$ac_t""$CPP" 1>&6
 
 echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
-echo "configure:935: checking whether ${MAKE-make} sets \${MAKE}" >&5
+echo "configure:937: checking whether ${MAKE-make} sets \${MAKE}" >&5
 set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -962,7 +964,7 @@
 # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:966: checking for $ac_word" >&5
+echo "configure:968: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -999,7 +1001,7 @@
 
 
 echo $ac_n "checking if --enable-purify is specified""... $ac_c" 1>&6
-echo "configure:1003: checking if --enable-purify is specified" >&5
+echo "configure:1005: checking if --enable-purify is specified" >&5
 
 PURIFY=
 # Check whether --enable-purify or --disable-purify was given.
@@ -1011,7 +1013,7 @@
 # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:1015: checking for $ac_word" >&5
+echo "configure:1017: checking for $ac_word" >&5
 if eval "test \"`echo '$''{'ac_cv_path_PURIFY'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -1064,7 +1066,7 @@
 EOF
 
 echo $ac_n "checking for tgetstr in -lterminfo""... $ac_c" 1>&6
-echo "configure:1068: checking for tgetstr in -lterminfo" >&5
+echo "configure:1070: checking for tgetstr in -lterminfo" >&5
 ac_lib_var=`echo terminfo'_'tgetstr | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -1072,7 +1074,7 @@
   ac_save_LIBS="$LIBS"
 LIBS="-lterminfo  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1076 "configure"
+#line 1078 "configure"
 #include "confdefs.h"
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
@@ -1083,7 +1085,7 @@
 tgetstr()
 ; return 0; }
 EOF
-if { (eval echo configure:1087: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1089: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_lib_$ac_lib_var=yes"
 else
@@ -1109,7 +1111,7 @@
 else
   echo "$ac_t""no" 1>&6
 echo $ac_n "checking for tgetstr in -ltermcap""... $ac_c" 1>&6
-echo "configure:1113: checking for tgetstr in -ltermcap" >&5
+echo "configure:1115: checking for tgetstr in -ltermcap" >&5
 ac_lib_var=`echo termcap'_'tgetstr | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -1117,7 +1119,7 @@
   ac_save_LIBS="$LIBS"
 LIBS="-ltermcap  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1121 "configure"
+#line 1123 "configure"
 #include "confdefs.h"
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
@@ -1128,7 +1130,7 @@
 tgetstr()
 ; return 0; }
 EOF
-if { (eval echo configure:1132: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1134: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_lib_$ac_lib_var=yes"
 else
@@ -1154,7 +1156,7 @@
 else
   echo "$ac_t""no" 1>&6
 echo $ac_n "checking for tgetstr in -lncurses""... $ac_c" 1>&6
-echo "configure:1158: checking for tgetstr in -lncurses" >&5
+echo "configure:1160: checking for tgetstr in -lncurses" >&5
 ac_lib_var=`echo ncurses'_'tgetstr | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -1162,7 +1164,7 @@
   ac_save_LIBS="$LIBS"
 LIBS="-lncurses  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1166 "configure"
+#line 1168 "configure"
 #include "confdefs.h"
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
@@ -1173,7 +1175,7 @@
 tgetstr()
 ; return 0; }
 EOF
-if { (eval echo configure:1177: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1179: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_lib_$ac_lib_var=yes"
 else
@@ -1199,7 +1201,7 @@
 else
   echo "$ac_t""no" 1>&6
 echo $ac_n "checking for tgetstr in -lcurses""... $ac_c" 1>&6
-echo "configure:1203: checking for tgetstr in -lcurses" >&5
+echo "configure:1205: checking for tgetstr in -lcurses" >&5
 ac_lib_var=`echo curses'_'tgetstr | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
@@ -1207,7 +1209,7 @@
   ac_save_LIBS="$LIBS"
 LIBS="-lcurses  $LIBS"
 cat > conftest.$ac_ext <<EOF
-#line 1211 "configure"
+#line 1213 "configure"
 #include "confdefs.h"
 /* Override any gcc2 internal prototype to avoid an error.  */
 /* We use char because int might match the return type of a gcc2
@@ -1218,7 +1220,7 @@
 tgetstr()
 ; return 0; }
 EOF
-if { (eval echo configure:1222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1224: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_lib_$ac_lib_var=yes"
 else
@@ -1253,12 +1255,12 @@
 
 
 echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
-echo "configure:1257: checking for ANSI C header files" >&5
+echo "configure:1259: checking for ANSI C header files" >&5
 if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1262 "configure"
+#line 1264 "configure"
 #include "confdefs.h"
 #include <stdlib.h>
 #include <stdarg.h>
@@ -1266,7 +1268,7 @@
 #include <float.h>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1270: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+{ (eval echo configure:1272: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   rm -rf conftest*
@@ -1283,7 +1285,7 @@
 if test $ac_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
 cat > conftest.$ac_ext <<EOF
-#line 1287 "configure"
+#line 1289 "configure"
 #include "confdefs.h"
 #include <string.h>
 EOF
@@ -1301,7 +1303,7 @@
 if test $ac_cv_header_stdc = yes; then
   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
 cat > conftest.$ac_ext <<EOF
-#line 1305 "configure"
+#line 1307 "configure"
 #include "confdefs.h"
 #include <stdlib.h>
 EOF
@@ -1322,7 +1324,7 @@
   :
 else
   cat > conftest.$ac_ext <<EOF
-#line 1326 "configure"
+#line 1328 "configure"
 #include "confdefs.h"
 #include <ctype.h>
 #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
@@ -1333,7 +1335,7 @@
 exit (0); }
 
 EOF
-if { (eval echo configure:1337: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1339: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   :
 else
@@ -1357,12 +1359,12 @@
 fi
 
 echo $ac_n "checking for sys/wait.h that is POSIX.1 compatible""... $ac_c" 1>&6
-echo "configure:1361: checking for sys/wait.h that is POSIX.1 compatible" >&5
+echo "configure:1363: checking for sys/wait.h that is POSIX.1 compatible" >&5
 if eval "test \"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1366 "configure"
+#line 1368 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #include <sys/wait.h>
@@ -1378,7 +1380,7 @@
 s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;
 ; return 0; }
 EOF
-if { (eval echo configure:1382: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:1384: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   ac_cv_header_sys_wait_h=yes
 else
@@ -1402,17 +1404,17 @@
 do
 ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
 echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
-echo "configure:1406: checking for $ac_hdr" >&5
+echo "configure:1408: checking for $ac_hdr" >&5
 if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1411 "configure"
+#line 1413 "configure"
 #include "confdefs.h"
 #include <$ac_hdr>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
-{ (eval echo configure:1416: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
+{ (eval echo configure:1418: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
   rm -rf conftest*
@@ -1443,12 +1445,12 @@
 for ac_func in sigvec tgetnum setlocale
 do
 echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
-echo "configure:1447: checking for $ac_func" >&5
+echo "configure:1449: checking for $ac_func" >&5
 if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1452 "configure"
+#line 1454 "configure"
 #include "confdefs.h"
 /* System header to define __stub macros and hopefully few prototypes,
     which can conflict with char $ac_func(); below.  */
@@ -1471,7 +1473,7 @@
 
 ; return 0; }
 EOF
-if { (eval echo configure:1475: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   eval "ac_cv_func_$ac_func=yes"
 else
@@ -1496,7 +1498,7 @@
 done
 
 echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
-echo "configure:1500: checking whether getpgrp takes no argument" >&5
+echo "configure:1502: checking whether getpgrp takes no argument" >&5
 if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -1504,7 +1506,7 @@
   { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
 else
   cat > conftest.$ac_ext <<EOF
-#line 1508 "configure"
+#line 1510 "configure"
 #include "confdefs.h"
 
 /*
@@ -1559,7 +1561,7 @@
 }
 
 EOF
-if { (eval echo configure:1563: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1565: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_func_getpgrp_void=yes
 else
@@ -1584,13 +1586,13 @@
 
 if test $ac_cv_prog_gcc = yes; then
     echo $ac_n "checking whether ${CC-cc} needs -traditional""... $ac_c" 1>&6
-echo "configure:1588: checking whether ${CC-cc} needs -traditional" >&5
+echo "configure:1590: checking whether ${CC-cc} needs -traditional" >&5
 if eval "test \"`echo '$''{'ac_cv_prog_gcc_traditional'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
     ac_pattern="Autoconf.*'x'"
   cat > conftest.$ac_ext <<EOF
-#line 1594 "configure"
+#line 1596 "configure"
 #include "confdefs.h"
 #include <sgtty.h>
 Autoconf TIOCGETP
@@ -1608,7 +1610,7 @@
 
   if test $ac_cv_prog_gcc_traditional = no; then
     cat > conftest.$ac_ext <<EOF
-#line 1612 "configure"
+#line 1614 "configure"
 #include "confdefs.h"
 #include <termio.h>
 Autoconf TCGETA
@@ -1630,12 +1632,12 @@
 fi
 
 echo $ac_n "checking return type of signal handlers""... $ac_c" 1>&6
-echo "configure:1634: checking return type of signal handlers" >&5
+echo "configure:1636: checking return type of signal handlers" >&5
 if eval "test \"`echo '$''{'ac_cv_type_signal'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1639 "configure"
+#line 1641 "configure"
 #include "confdefs.h"
 #include <sys/types.h>
 #include <signal.h>
@@ -1652,7 +1654,7 @@
 int i;
 ; return 0; }
 EOF
-if { (eval echo configure:1656: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
+if { (eval echo configure:1658: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
   rm -rf conftest*
   ac_cv_type_signal=void
 else
@@ -1676,19 +1678,19 @@
 
 
   echo $ac_n "checking for nl_langinfo and CODESET""... $ac_c" 1>&6
-echo "configure:1680: checking for nl_langinfo and CODESET" >&5
+echo "configure:1682: checking for nl_langinfo and CODESET" >&5
 if eval "test \"`echo '$''{'am_cv_langinfo_codeset'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   cat > conftest.$ac_ext <<EOF
-#line 1685 "configure"
+#line 1687 "configure"
 #include "confdefs.h"
 #include <langinfo.h>
 int main() {
 char* cs = nl_langinfo(CODESET);
 ; return 0; }
 EOF
-if { (eval echo configure:1692: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+if { (eval echo configure:1694: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
   am_cv_langinfo_codeset=yes
 else
@@ -1710,6 +1712,25 @@
   fi
 
 
+echo $ac_n "checking whether fastio is used""... $ac_c" 1>&6
+echo "configure:1717: checking whether fastio is used" >&5
+# Check whether --enable-fastio or --disable-fastio was given.
+if test "${enable_fastio+set}" = set; then
+  enableval="$enable_fastio"
+  if ! test "$enableval" = no; then
+	 	cat >> confdefs.h <<\EOF
+#define USE_INTERNAL_IOBUF 1
+EOF
+
+		echo "$ac_t""yes" 1>&6
+	 else
+		echo "$ac_t""no" 1>&6
+	 fi
+else
+  echo "$ac_t""no" 1>&6
+fi
+
+
 trap '' 1 2 15
 cat > confcache <<\EOF
 # This file is a shell script that caches the results of configure
--- lv/lv.hlp.gotom	2004-01-16 21:24:09.000000000 +0900
+++ lv/lv.hlp	2005-05-06 15:35:46.000000000 +0900
@@ -1,4 +1,4 @@
-LV(1)                                                       LV(1)
+LV(1)                                                                    LV(1)
 
 
 
@@ -9,64 +9,57 @@
        llvv,, llggrreepp
        llvv -h
        llvv -V
-       llvv [-[+]acdfgiklmnqsuvz]
+       llvv [-acdfgiklmnqsuvz] [+acdfgiklmnqsuvz]
             [-A_c_o_d_i_n_g_-_s_y_s_t_e_m] [-I_c_o_d_i_n_g_-_s_y_s_t_e_m] [-K_c_o_d_i_n_g_-_s_y_s_t_e_m]
             [-O_c_o_d_i_n_g_-_s_y_s_t_e_m] [-P_c_o_d_i_n_g_-_s_y_s_t_e_m] [-D_c_o_d_i_n_g_-_s_y_s_t_e_m]
             [-Ss_s_e_q] [-Sr_s_e_q] [-Sb_s_e_q] [-Su_s_e_q] [-Sh_s_e_q]
             [-T_n_u_m_b_e_r] [-W_w_i_d_t_h] [-H_h_e_i_g_h_t] [-E'_e_d_i_t_o_r_'] [-+]
-            [-] (_g_r_e_p _p_a_t_t_e_r_n) [_f_i_l_e_s _._._.]
+            [+_n_u_m_b_e_r] [+/_g_r_e_p_-_p_a_t_t_e_r_n]
+            [-] (_g_r_e_p_-_p_a_t_t_e_r_n) [_f_i_l_e_s _._._.]
 
 DDEESSCCRRIIPPTTIIOONN
        _M_u_l_t_i_l_i_n_g_u_a_l _f_i_l_e _v_i_e_w_e_r
-              _l_v  is a powerful multilingual file viewer.  Appar-
-              ently, lv looks like  _l_e_s_s  (1),  a  representative
-              file  viewer  on  UNIX  as you know, so UNIX people
-              (and _l_e_s_s people on other OSs) don't have to  learn
-              a  burdensome  new  interface.   lv  can be used on
-              MSDOS ANSI terminals and almost all UNIX platforms.
-              lv  is  a currently growing software, so your feed-
-              back is welcome and helpful for us  to  refine  the
-              future lv.
+              _l_v is a powerful multilingual file viewer.  Apparently, lv looks
+              like _l_e_s_s (1), a representative file viewer on UNIX as you know,
+              so  UNIX  people  (and  _l_e_s_s  people on other OSs) don't have to
+              learn a burdensome new interface.  lv can be used on MSDOS  ANSI
+              terminals  and  almost  all  UNIX  platforms.  lv is a currently
+              growing software, so your feedback is welcome and helpful for us
+              to refine the future lv.
 
        _M_u_l_t_i_p_l_e _c_o_d_i_n_g _s_y_s_t_e_m_s
-              lv  can  decode  and  encode  multilingual  streams
-              through many coding systems, for example, ISO  2022
-              based  coding  systems such as iso-2022-jp, and EUC
-              (Extended Unix Code) like euc-japan.   Furthermore,
-              localized  coding  systems  such as shift-jis, big5
-              and HZ are also supported.  lv can be used not only
-              as a file viewer but also as a coding-system trans-
-              lation filter like _n_k_f (1) and _t_c_s (1).
+              lv  can decode and encode multilingual streams through many cod-
+              ing systems, for example, ISO 2022 based coding systems such  as
+              iso-2022-jp,  and EUC (Extended Unix Code) like euc-japan.  Fur-
+              thermore, localized coding systems such as shift-jis,  big5  and
+              HZ are also supported.  lv can be used not only as a file viewer
+              but also as a coding-system translation filter like _n_k_f (1)  and
+              _t_c_s (1).
 
        _M_u_l_t_i_l_i_n_g_u_a_l _r_e_g_u_l_a_r _e_x_p_r_e_s_s_i_o_n_s _/ _M_u_l_t_i_l_i_n_g_u_a_l _g_r_e_p
-              lv can recognize multi-bytes  patterns  as  regular
-              expressions, and lv also provides multilingual _g_r_e_p
-              (1) functionality by giving it another name, _l_g_r_e_p.
-              Pattern matching is conducted in the charset level,
-              so an EUC fragment, for example, can  be  found  in
-              the ISO 2022 tailored streams, of course.
+              lv  can  recognize  multi-bytes patterns as regular expressions,
+              and lv also provides multilingual _g_r_e_p (1) functionality by giv-
+              ing  it  another  name, _l_g_r_e_p.  Pattern matching is conducted in
+              the charset level, so an EUC fragment, for example, can be found
+              in the ISO 2022 tailored streams, of course.
 
        _S_u_p_p_o_r_t_i_n_g _t_h_e _U_n_i_c_o_d_e _s_t_a_n_d_a_r_d
-              lv provides Unicode facilities which enables you to
-              handle Unicode streams encoded in UTF-7  or  UTF-8,
-              and  lv  can also convert their code-points between
-              Unicode and other charsets.   So  you  can  display
-              Unicode  or  foreign  texts on your terminal, using
-              the  code  conversion  function  to  your  favorite
-              charsets  via  Unicode.  (However, MSDOS version of
-              lv has none of the Unicode facility.)
+              lv  provides Unicode facilities which enables you to handle Uni-
+              code streams encoded in UTF-7 or UTF-8, and lv can also  convert
+              their  code-points  between  Unicode and other charsets.  So you
+              can display Unicode or foreign texts on your terminal, using the
+              code  conversion function to your favorite charsets via Unicode.
+              (However, MSDOS version of lv has none of the Unicode facility.)
 
        _A_N_S_I _e_s_c_a_p_e _s_e_q_u_e_n_c_e _t_h_r_o_u_g_h
-              lv can recognize ANSI  escape  sequences  for  text
-              decoration.  So you can look ANSI-decorated streams
-              such as colored source codes generated  by  another
-              software  just  like  intended image on ANSI termi-
-              nals.
+              lv  can recognize ANSI escape sequences for text decoration.  So
+              you can look ANSI-decorated streams such as colored source codes
+              generated  by  another software just like intended image on ANSI
+              terminals.
 
        _C_o_m_p_l_e_t_e_l_y _o_r_i_g_i_n_a_l
-              lv is a completely original software  including  no
-              code drawn from _l_e_s_s and _g_r_e_p and other programs at
-              all.
+              lv is a completely original software  including  no  code  drawn
+              from _l_e_s_s and _g_r_e_p and other programs at all.
 
 OOPPTTIIOONNSS
        -A<_c_o_d_i_n_g_-_s_y_s_t_e_m>
@@ -76,9 +69,8 @@
               Set input coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.
 
        -K<_c_o_d_i_n_g_-_s_y_s_t_e_m>
-              Set keyboard coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.  If it
-              is not set, output coding system will be applied to
-              it.
+              Set  keyboard coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.  If it is not set,
+              output coding system will be applied to it.
 
        -O<_c_o_d_i_n_g_-_s_y_s_t_e_m>
               Set output coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.
@@ -87,8 +79,7 @@
               Set pathname coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.
 
        -D<_c_o_d_i_n_g_-_s_y_s_t_e_m>
-              Set default (fall-back) coding  system  to  _c_o_d_i_n_g_-
-              _s_y_s_t_e_m.
+              Set default (fall-back) coding system to _c_o_d_i_n_g_-_s_y_s_t_e_m.
 
        coding-system:
               a: auto-select
@@ -116,28 +107,24 @@
               -Ab:  all coding systems are big5
 
        Coding-system translations / Code-points conversions:
-              iso-2022-cn,  -jp,  -kr  can be converted into euc-
-              china or  -taiwan,  euc-japan,  euc-korea,  respec-
-              tively  (and  vice versa).  shift-jis uses the same
-              internal code-points as iso-2022-jp and  euc-japan.
-
-              Since  big5  characters  can  be converted into CNS
-              11643-1992  with  negligible  incompleteness,  big5
-              streams  can be translated into iso-2022-cn or euc-
-              taiwan (and vice versa)  with  code-points  conver-
-              sion.   Note  that the iso-2022-cn referred here is
-              not GB sequence, only just  CNS  one.   You  should
-              remember  that  lv  cannot  translate  big5 into GB
-              directly.
-
-              The search function of lv may  not  work  correctly
-              when  lv additionally performs ``code-points'' con-
-              version   (not   ``coding-system''    translation),
-              because  visible code and internal code are differ-
-              ent from each other.  lv will  try  to  avoid  this
-              problem with converting charsets of search patterns
-              automatically, but this function is not always per-
-              fect.
+              iso-2022-cn, -jp, -kr can be converted into euc-china  or  -tai-
+              wan,   euc-japan,  euc-korea,  respectively  (and  vice  versa).
+              shift-jis uses the same internal code-points as iso-2022-jp  and
+              euc-japan.
+
+              Since  big5 characters can be converted into CNS 11643-1992 with
+              negligible incompleteness, big5 streams can be  translated  into
+              iso-2022-cn or euc-taiwan (and vice versa) with code-points con-
+              version.  Note that the iso-2022-cn  referred  here  is  not  GB
+              sequence, only just CNS one.  You should remember that lv cannot
+              translate big5 into GB directly.
+
+              The search function of lv may not work correctly when  lv  addi-
+              tionally  performs ``code-points'' conversion (not ``coding-sys-
+              tem'' translation), because visible code and internal  code  are
+              different  from  each  other.  lv will try to avoid this problem
+              with converting charsets of search patterns  automatically,  but
+              this function is not always perfect.
 
        -W<_n_u_m_b_e_r>
               Screen width
@@ -147,14 +134,12 @@
 
        -E'<_e_d_i_t_o_r>' (default 'vi -c %d')
               Editor name (default 'vi -c %d')
-              ``%d'' means the line number of current position in
-              a file.
+              ``%d'' means the line number of current position in a file.
 
        -q     Assert there is delete/insert-lines control.
-              Please set this option on  a  MSDOS  ANSI  terminal
-              that  has capability to delete and/or insert lines.
-              As to termcap and terminfo version, it will be  set
-              automatically.
+              Please  set  this option on a MSDOS ANSI terminal that has capa-
+              bility to delete and/or insert lines.  As to  termcap  and  ter-
+              minfo version, it will be set automatically.
 
        -Ss<_s_e_q>
               Set ANSI Standout sequence to _s_e_q  (default "7")
@@ -171,88 +156,83 @@
        -Sh<_s_e_q>
               Set ANSI Highlight sequence to _s_e_q (default "1")
 
-              These  sequences are inserted between ``ESC ['' and
-              ``m'' to construct full ANSI escape sequences.
+              These sequences are inserted between ``ESC ['' and ``m'' to con-
+              struct full ANSI escape sequences.
 
        -T<_n_u_m_b_e_r>
-              Set  Threshold-code  which  divides  Unicode  code-
-              points  in two regions. Characters belonging to the
-              lower region are assumed to have a  width  of  one,
-              and the higher characters are equated to a width of
-              two. (Default: 12288, = 0x3000)
-
-       -m     Force  Unicode  code-points  which  have  the  same
-              glyphs  as iso-8859-* to be Mapped to iso-8859-* in
-              a conversion from Unicode to another character  set
-              which  also  has  the corresponding code-points, in
-              particular, Asian charsets.
+              Set Threshold-code which  divides  Unicode  code-points  in  two
+              regions. Characters belonging to the lower region are assumed to
+              have a width of one, and the higher characters are equated to  a
+              width of two. (Default: 12288, = 0x3000)
+
+       -m     Force   Unicode  code-points  which  have  the  same  glyphs  as
+              iso-8859-* to be Mapped to iso-8859-* in a conversion from  Uni-
+              code  to  another character set which also has the corresponding
+              code-points, in particular, Asian charsets.
 
        -a     Adjust character set for search pattern (default)
 
-       -c     Allow ANSI escape  sequences  for  text  decoration
-              (Color)
+       -c     Allow ANSI escape sequences for text decoration (Color)
 
-       -d, -i Make regexp-searches ignore case (case folD search)
-              (default)
+       -d, -i Make regexp-searches ignore case (case folD search) (default)
 
        -f     Substitute Fixed strings for regular expressions
 
        -k     Convert X0201 Katakana to X0208 while decoding
 
-       -l     Allow physical lines of each logical  line  printed
-              on  the screen to be concatenated for cut and paste
-              after screen refresh
-
-       -s     Force old pages to be swept  out  from  the  screen
-              Smoothly
-
-       -u     Unify  several  character  sets,  eg. JIS X0208 and
-              C6226.  In addition, lv equates ISO  646  variants,
-              eg.  JIS  X0201-Roman,  and  unknown  charsets with
-              ASCII.
+       -l     Allow physical lines of each logical line printed on the  screen
+              to be concatenated for cut and paste after screen refresh
+
+       -s     Force old pages to be swept out from the screen Smoothly
+
+       -u     Unify several character sets, eg. JIS X0208 and C6226.  In addi-
+              tion, lv equates ISO 646  variants,  eg.  JIS  X0201-Roman,  and
+              unknown charsets with ASCII.
 
        -g     Turn on lgrep mode.
 
-       -n     Prefix each line of output  with  the  line  number
-              within its input file on lgrep.
+       -n     Prefix each line of output with the line number within its input
+              file on lgrep.
 
        -v     Invert the sense of matching on lgrep.
 
-       -z     Enable  HZ auto-detection (also enabled by run-time
-              C-t).
+       -z     Enable HZ auto-detection (also enabled by run-time C-t).
 
        -+     Clear all options
-              You can also  turn  OFF  specified  options,  using
-              ``+<option>'' like +c, +d, ... +z.
+              You can also turn OFF  specified  options,  using  ``+<option>''
+              like +c, +d, ... +z.
 
        -      Treat the following arguments as filenames
 
-       _g_r_e_p _p_a_t_t_e_r_n
+       _g_r_e_p_-_p_a_t_t_e_r_n
               lv works like _g_r_e_p (1) when its name is _l_g_r_e_p
 
+       +_n_u_m_b_e_r
+              Jump to the specified line immediately when lv is invoked.
+
+       +/_g_r_e_p_-_p_a_t_t_e_r_n
+              Search  the specified pattern immediately when lv is invoked.
+
        -V     Show lv version
 
        -h     Show this help
 
 CCOONNFFIIGGUURRAATTIIOONN
-       Options  can  be  described  in configuration file ``.lv''
-       (``_lv'' on MSDOS) located at you HOME directory.  If  and
-       only  if  you use MSDOS, you can locate ``_lv'' at current
-       working directory.  They can  be  also  described  in  the
-       environment  variable  LV.   Every  configuration  will be
-       overloaded in this order if there is. Command line options
-       are always read finally.
+       Options  can  be  described  in  configuration file ``.lv'' (``_lv'' on
+       MSDOS) located at you HOME directory.  If and only if  you  use  MSDOS,
+       you  can locate ``_lv'' at current working directory.  They can be also
+       described in the environment variable LV.  Every configuration will  be
+       overloaded  in  this order if there is. Command line options are always
+       read finally.
 
 CCOOMMMMAANNDD KKEEYY BBIINNDDIINNGGSS
        0..9:  Argument
 
        g, <:  Jump to the line number (default: top of the file)
 
-       G, >:  Jump  to  the  line  number (default: bottom of the
-              file)
+       G, >:  Jump to the line number (default: bottom of the file)
 
-       p:     Jump to the percentage  position  in  line  numbers
-              (0-100)
+       p:     Jump to the percentage position in line numbers (0-100)
 
        b, C-b:
               Previous page
@@ -272,21 +252,18 @@
        f, C-f, C-v, SP:
               Next page
 
-       F:     Jump  to the end of file, and wait for a data to be
-              appended to the file until interrupted.
+       F:     Jump to the end of file, and wait for a data to be  appended  to
+              the file until interrupted.
 
        /<string>:
-              Find a string in  the  forward  direction  (regular
-              expression)
+              Find a string in the forward direction (regular expression)
 
        ?<string>:
-              Find  a  string  in the backward direction (regular
-              expression)
+              Find a string in the backward direction (regular expression)
 
        n:     Repeat previous search in forward direction
 
-       N:     Repeat previous search in backward  direction  (not
-              REVERSE)
+       N:     Repeat previous search in backward direction (not REVERSE)
 
        C-l:   Redisplay all lines
 
@@ -308,8 +285,7 @@
        v:     Launch the editor defined by option -E
 
        C-g, =:
-              Show  file  information (filename, position, coding
-              system)
+              Show file information (filename, position, coding system)
 
        V:     Show LV version
 
@@ -340,39 +316,34 @@
        C-g:   Quit
 
 RREEGGUULLAARR EEXXPPRREESSSSIIOONN
-       Special  characters  are ^, $, ., *, +, ?, [, ^, -,  ], \.
-       \| specifies an alternative. \(, \)  is  a  grouping  con-
-       struct.  \1 and \2 matches any charset consists of one- or
-       two- column(s) characters respectively. Mutually  overlap-
-       ping ranges (or charset) are not guaranteed.
+       Special  characters are ^, $, ., *, +, ?, [, ^, -,  ], \.  \| specifies
+       an alternative. \(, \) is a grouping construct.  \1 and \2 matches  any
+       charset  consists  of  one-  or two- column(s) characters respectively.
+       Mutually overlapping ranges (or charset) are not guaranteed.
 
 SSEEEE AALLSSOO
        LV Homepage: http://www.ff.iij4u.or.jp/~nrt/lv/
 
 CCOOPPYYRRIIGGHHTT
-       All  rights  reserved.  Copyright  (C) 1996-2004 by NARITA
-       Tomio.
+       All rights reserved. Copyright (C) 1996-2004 by NARITA Tomio.
 
-       This program is free software;  you  can  redistribute  it
-       and/or modify it under the terms of the GNU General Public
-       License as published  by  the  Free  Software  Foundation;
-       either  version  2 of the License, or (at your option) any
-       later version.
-
-       This program is distributed in the hope that  it  will  be
-       useful, but WITHOUT ANY WARRANTY; without even the implied
-       warranty of MERCHANTABILITY or FITNESS  FOR  A  PARTICULAR
-       PURPOSE.   See  the  GNU  General  Public License for more
-       details.
-
-       You should have received a copy of the GNU General  Public
-       License along with this program; if not, write to the Free
-       Software Foundation, Inc., 59  Temple  Place,  Suite  330,
-       Boston, MA  02111-1307  USA
+       This program is free software; you can redistribute it and/or modify it
+       under  the  terms of the GNU General Public License as published by the
+       Free Software Foundation; either version 2 of the License, or (at  your
+       option) any later version.
+
+       This  program  is  distributed  in the hope that it will be useful, but
+       WITHOUT ANY  WARRANTY;  without  even  the  implied  warranty  of  MER-
+       CHANTABILITY  or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
+       Public License for more details.
+
+       You should have received a copy of the GNU General Public License along
+       with this program; if not, write to the Free Software Foundation, Inc.,
+       59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 
 BBUUGG RREEPPOORRTT
        Please send bug reports to: nrt@ff.iij4u.or.jp
 
 
 
-                      v.4.51 (Jan.16th,2004)                LV(1)
+                            v.4.51 (Jan.16th,2004)                       LV(1)
